{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elaks\\\\OneDrive\\\\Desktop\\\\Kod\\\\Rahunok1\\\\Rahunok\\\\frontend\\\\src\\\\InvoiceForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InvoiceForm({\n  onBack,\n  invoice\n}) {\n  _s();\n  var _invoice$client, _invoice$client2, _invoice$items, _clients$find;\n  const [number, setNumber] = useState((invoice === null || invoice === void 0 ? void 0 : invoice.number) || '');\n  const [date, setDate] = useState((invoice === null || invoice === void 0 ? void 0 : invoice.date) || new Date().toISOString().slice(0, 10));\n  const [clients, setClients] = useState([]);\n  const [clientQuery, setClientQuery] = useState((invoice === null || invoice === void 0 ? void 0 : (_invoice$client = invoice.client) === null || _invoice$client === void 0 ? void 0 : _invoice$client.name) || '');\n  const [clientId, setClientId] = useState((invoice === null || invoice === void 0 ? void 0 : invoice.client_id) || (invoice === null || invoice === void 0 ? void 0 : (_invoice$client2 = invoice.client) === null || _invoice$client2 === void 0 ? void 0 : _invoice$client2.id) || null);\n  const [showClientModal, setShowClientModal] = useState(false);\n  const [newClient, setNewClient] = useState({\n    name: '',\n    ipn: ''\n  });\n  const [products, setProducts] = useState([]);\n  const [productQuery, setProductQuery] = useState('');\n  const [productResults, setProductResults] = useState([]);\n  const [items, setItems] = useState((invoice === null || invoice === void 0 ? void 0 : (_invoice$items = invoice.items) === null || _invoice$items === void 0 ? void 0 : _invoice$items.map(item => ({\n    ...item\n  }))) || []);\n  const [status, setStatus] = useState((invoice === null || invoice === void 0 ? void 0 : invoice.status) || 'draft');\n\n  // Пошук клієнтів\n  useEffect(() => {\n    fetch('http://localhost:8000/clients').then(res => res.json()).then(data => setClients(data));\n  }, [showClientModal]);\n\n  // Пошук товарів\n  useEffect(() => {\n    if (productQuery.length < 2) {\n      setProductResults([]);\n      return;\n    }\n    fetch(`http://localhost:8000/products?q=${encodeURIComponent(productQuery)}`).then(res => res.json()).then(data => setProductResults(data));\n  }, [productQuery]);\n\n  // Додаємо товар у рахунок\n  const addProduct = product => {\n    setItems([...items, {\n      name: product.name,\n      quantity: 1,\n      unit: 'шт.',\n      price: parseFloat(product.price) || 0,\n      total: parseFloat(product.price) || 0\n    }]);\n    setProductQuery('');\n    setProductResults([]);\n  };\n\n  // Оновлення кількості/ціни\n  const updateItem = (idx, field, value) => {\n    setItems(items => items.map((item, i) => i === idx ? {\n      ...item,\n      [field]: value,\n      total: field === 'quantity' || field === 'price' ? field === 'quantity' ? value * item.price : item.quantity * value : item.total\n    } : item));\n  };\n\n  // Додавання нового клієнта\n  const handleAddClient = () => {\n    fetch('http://localhost:8000/clients', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newClient)\n    }).then(res => res.json()).then(client => {\n      setClients([...clients, client]);\n      setClientId(client.id);\n      setShowClientModal(false);\n      setNewClient({\n        name: '',\n        ipn: ''\n      });\n    });\n  };\n\n  // Підрахунок суми\n  const total = items.reduce((sum, item) => sum + (parseFloat(item.total) || 0), 0);\n\n  // Збереження рахунку\n  const handleSave = () => {\n    const invoiceData = {\n      number: number || 'AUTO',\n      date,\n      client_id: clientId,\n      total,\n      status,\n      items: items.map(item => ({\n        name: item.name,\n        quantity: parseInt(item.quantity),\n        unit: item.unit,\n        price: parseFloat(item.price),\n        total: parseFloat(item.total)\n      }))\n    };\n    const method = invoice !== null && invoice !== void 0 && invoice.id ? 'PUT' : 'POST';\n    const url = invoice !== null && invoice !== void 0 && invoice.id ? `http://localhost:8000/invoices/${invoice.id}` : 'http://localhost:8000/invoices';\n    fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(invoiceData)\n    }).then(res => res.json()).then(() => {\n      alert('Рахунок збережено!');\n      if (onBack) onBack();\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 900,\n      margin: '40px auto',\n      fontFamily: 'Arial, sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: invoice ? 'Редагування рахунку' : 'Створення рахунку'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0440\\u0430\\u0445\\u0443\\u043D\\u043A\\u0443: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: number,\n          onChange: e => setNumber(e.target.value),\n          placeholder: \"\\u0410\\u0432\\u0442\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          marginLeft: 24\n        },\n        children: [\"\\u0414\\u0430\\u0442\\u0430: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: date,\n          onChange: e => setDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 49\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u041E\\u0434\\u0435\\u0440\\u0436\\u0443\\u0432\\u0430\\u0447: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        list: \"clients-list\",\n        value: clientQuery,\n        onChange: e => {\n          setClientQuery(e.target.value);\n          const found = clients.find(c => c.name === e.target.value);\n          setClientId(found ? found.id : null);\n        },\n        placeholder: \"\\u041F\\u043E\\u0447\\u043D\\u0456\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u0438 \\u043D\\u0430\\u0437\\u0432\\u0443...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n        id: \"clients-list\",\n        children: clients.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c.name\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowClientModal(true),\n        style: {\n          marginLeft: 8\n        },\n        children: \"+ \\u041D\\u043E\\u0432\\u0438\\u0439 \\u043A\\u043B\\u0456\\u0454\\u043D\\u0442\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), clientId && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: 16,\n          color: '#555'\n        },\n        children: [\"\\u0406\\u041F\\u041D: \", (_clients$find = clients.find(c => c.id === clientId)) === null || _clients$find === void 0 ? void 0 : _clients$find.ipn]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u0442\\u043E\\u0432\\u0430\\u0440: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: productQuery,\n        onChange: e => setProductQuery(e.target.value),\n        placeholder: \"\\u041F\\u043E\\u0447\\u043D\\u0456\\u0442\\u044C \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u0438 \\u043D\\u0430\\u0437\\u0432\\u0443 \\u0430\\u0431\\u043E \\u0430\\u0440\\u0442\\u0438\\u043A\\u0443\\u043B...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), productResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ccc',\n          background: '#fff',\n          position: 'absolute',\n          zIndex: 10,\n          width: 400\n        },\n        children: productResults.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 6,\n            cursor: 'pointer'\n          },\n          onClick: () => addProduct(p),\n          children: [p.name, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#888'\n            },\n            children: [\"(\", p.articul || p.id, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 26\n          }, this)]\n        }, p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        width: '100%',\n        borderCollapse: 'collapse',\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: {\n            background: '#f0f0f0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: \"\\u0422\\u043E\\u0432\\u0430\\u0440\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: \"\\u041A\\u0456\\u043B\\u044C\\u043A\\u0456\\u0441\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: \"\\u041E\\u0434.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: \"\\u0426\\u0456\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: \"\\u0421\\u0443\\u043C\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: items.map((item, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 1,\n              value: item.quantity,\n              onChange: e => updateItem(idx, 'quantity', parseInt(e.target.value) || 1),\n              style: {\n                width: 60\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: item.unit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: 0,\n              value: item.price,\n              onChange: e => updateItem(idx, 'price', parseFloat(e.target.value) || 0),\n              style: {\n                width: 80\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: (item.quantity * item.price).toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              border: '1px solid #ccc',\n              padding: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setItems(items => items.filter((_, i) => i !== idx)),\n              children: \"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16,\n        textAlign: 'right',\n        fontWeight: 'bold'\n      },\n      children: [\"\\u0420\\u0430\\u0437\\u043E\\u043C: \", total.toFixed(2), \" \\u0433\\u0440\\u043D\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        style: {\n          padding: '10px 20px',\n          fontSize: 16\n        },\n        children: \"\\u0417\\u0431\\u0435\\u0440\\u0435\\u0433\\u0442\\u0438 \\u0440\\u0430\\u0445\\u0443\\u043D\\u043E\\u043A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        style: {\n          marginLeft: 16,\n          padding: '10px 20px',\n          fontSize: 16\n        },\n        children: \"\\u041F\\u043E\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u0438\\u0441\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), showClientModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh',\n        background: 'rgba(0,0,0,0.3)',\n        zIndex: 100\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#fff',\n          padding: 24,\n          borderRadius: 8,\n          maxWidth: 400,\n          margin: '100px auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u041D\\u043E\\u0432\\u0438\\u0439 \\u043A\\u043B\\u0456\\u0454\\u043D\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\",\n            value: newClient.name,\n            onChange: e => setNewClient({\n              ...newClient,\n              name: e.target.value\n            }),\n            style: {\n              width: '100%',\n              marginBottom: 8\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"\\u0406\\u041F\\u041D\",\n            value: newClient.ipn,\n            onChange: e => setNewClient({\n              ...newClient,\n              ipn: e.target.value\n            }),\n            style: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddClient,\n          style: {\n            marginRight: 8\n          },\n          children: \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowClientModal(false),\n          children: \"\\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n_s(InvoiceForm, \"rqNYJ4EJ7zQrDJjQxoA6RSyAI7U=\");\n_c = InvoiceForm;\nexport default InvoiceForm;\nvar _c;\n$RefreshReg$(_c, \"InvoiceForm\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","InvoiceForm","onBack","invoice","_s","_invoice$client","_invoice$client2","_invoice$items","_clients$find","number","setNumber","date","setDate","Date","toISOString","slice","clients","setClients","clientQuery","setClientQuery","client","name","clientId","setClientId","client_id","id","showClientModal","setShowClientModal","newClient","setNewClient","ipn","products","setProducts","productQuery","setProductQuery","productResults","setProductResults","items","setItems","map","item","status","setStatus","fetch","then","res","json","data","length","encodeURIComponent","addProduct","product","quantity","unit","price","parseFloat","total","updateItem","idx","field","value","i","handleAddClient","method","headers","body","JSON","stringify","reduce","sum","handleSave","invoiceData","parseInt","url","alert","style","maxWidth","margin","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","onChange","e","target","placeholder","marginLeft","type","list","found","find","c","onClick","color","border","background","position","zIndex","width","p","padding","cursor","articul","borderCollapse","min","toFixed","filter","_","textAlign","fontWeight","fontSize","top","left","height","borderRadius","marginRight","_c","$RefreshReg$"],"sources":["C:/Users/elaks/OneDrive/Desktop/Kod/Rahunok1/Rahunok/frontend/src/InvoiceForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nfunction InvoiceForm({ onBack, invoice }) {\r\n  const [number, setNumber] = useState(invoice?.number || '');\r\n  const [date, setDate] = useState(invoice?.date || new Date().toISOString().slice(0, 10));\r\n  const [clients, setClients] = useState([]);\r\n  const [clientQuery, setClientQuery] = useState(invoice?.client?.name || '');\r\n  const [clientId, setClientId] = useState(invoice?.client_id || invoice?.client?.id || null);\r\n  const [showClientModal, setShowClientModal] = useState(false);\r\n  const [newClient, setNewClient] = useState({ name: '', ipn: '' });\r\n  const [products, setProducts] = useState([]);\r\n  const [productQuery, setProductQuery] = useState('');\r\n  const [productResults, setProductResults] = useState([]);\r\n  const [items, setItems] = useState(invoice?.items?.map(item => ({ ...item })) || []);\r\n  const [status, setStatus] = useState(invoice?.status || 'draft');\r\n\r\n  // Пошук клієнтів\r\n  useEffect(() => {\r\n    fetch('http://localhost:8000/clients')\r\n      .then(res => res.json())\r\n      .then(data => setClients(data));\r\n  }, [showClientModal]);\r\n\r\n  // Пошук товарів\r\n  useEffect(() => {\r\n    if (productQuery.length < 2) {\r\n      setProductResults([]);\r\n      return;\r\n    }\r\n    fetch(`http://localhost:8000/products?q=${encodeURIComponent(productQuery)}`)\r\n      .then(res => res.json())\r\n      .then(data => setProductResults(data));\r\n  }, [productQuery]);\r\n\r\n  // Додаємо товар у рахунок\r\n  const addProduct = (product) => {\r\n    setItems([...items, {\r\n      name: product.name,\r\n      quantity: 1,\r\n      unit: 'шт.',\r\n      price: parseFloat(product.price) || 0,\r\n      total: parseFloat(product.price) || 0\r\n    }]);\r\n    setProductQuery('');\r\n    setProductResults([]);\r\n  };\r\n\r\n  // Оновлення кількості/ціни\r\n  const updateItem = (idx, field, value) => {\r\n    setItems(items => items.map((item, i) =>\r\n      i === idx ? { ...item, [field]: value, total: field === 'quantity' || field === 'price' ? (field === 'quantity' ? value * item.price : item.quantity * value) : item.total } : item\r\n    ));\r\n  };\r\n\r\n  // Додавання нового клієнта\r\n  const handleAddClient = () => {\r\n    fetch('http://localhost:8000/clients', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(newClient)\r\n    })\r\n      .then(res => res.json())\r\n      .then(client => {\r\n        setClients([...clients, client]);\r\n        setClientId(client.id);\r\n        setShowClientModal(false);\r\n        setNewClient({ name: '', ipn: '' });\r\n      });\r\n  };\r\n\r\n  // Підрахунок суми\r\n  const total = items.reduce((sum, item) => sum + (parseFloat(item.total) || 0), 0);\r\n\r\n  // Збереження рахунку\r\n  const handleSave = () => {\r\n    const invoiceData = {\r\n      number: number || 'AUTO',\r\n      date,\r\n      client_id: clientId,\r\n      total,\r\n      status,\r\n      items: items.map(item => ({\r\n        name: item.name,\r\n        quantity: parseInt(item.quantity),\r\n        unit: item.unit,\r\n        price: parseFloat(item.price),\r\n        total: parseFloat(item.total)\r\n      }))\r\n    };\r\n    const method = invoice?.id ? 'PUT' : 'POST';\r\n    const url = invoice?.id ? `http://localhost:8000/invoices/${invoice.id}` : 'http://localhost:8000/invoices';\r\n    fetch(url, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(invoiceData)\r\n    })\r\n      .then(res => res.json())\r\n      .then(() => {\r\n        alert('Рахунок збережено!');\r\n        if (onBack) onBack();\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 900, margin: '40px auto', fontFamily: 'Arial, sans-serif' }}>\r\n      <h2>{invoice ? 'Редагування рахунку' : 'Створення рахунку'}</h2>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label>Номер рахунку: <input value={number} onChange={e => setNumber(e.target.value)} placeholder=\"Авто\" /></label>\r\n        <label style={{ marginLeft: 24 }}>Дата: <input type=\"date\" value={date} onChange={e => setDate(e.target.value)} /></label>\r\n      </div>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label>Одержувач: </label>\r\n        <input\r\n          list=\"clients-list\"\r\n          value={clientQuery}\r\n          onChange={e => {\r\n            setClientQuery(e.target.value);\r\n            const found = clients.find(c => c.name === e.target.value);\r\n            setClientId(found ? found.id : null);\r\n          }}\r\n          placeholder=\"Почніть вводити назву...\"\r\n        />\r\n        <datalist id=\"clients-list\">\r\n          {clients.map(c => <option key={c.id} value={c.name} />)}\r\n        </datalist>\r\n        <button onClick={() => setShowClientModal(true)} style={{ marginLeft: 8 }}>+ Новий клієнт</button>\r\n        {clientId && <span style={{ marginLeft: 16, color: '#555' }}>ІПН: {clients.find(c => c.id === clientId)?.ipn}</span>}\r\n      </div>\r\n      <div style={{ marginBottom: 16 }}>\r\n        <label>Додати товар: </label>\r\n        <input\r\n          value={productQuery}\r\n          onChange={e => setProductQuery(e.target.value)}\r\n          placeholder=\"Почніть вводити назву або артикул...\"\r\n        />\r\n        {productResults.length > 0 && (\r\n          <div style={{ border: '1px solid #ccc', background: '#fff', position: 'absolute', zIndex: 10, width: 400 }}>\r\n            {productResults.map(p => (\r\n              <div key={p.id} style={{ padding: 6, cursor: 'pointer' }} onClick={() => addProduct(p)}>\r\n                {p.name} <span style={{ color: '#888' }}>({p.articul || p.id})</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <table style={{ width: '100%', borderCollapse: 'collapse', marginBottom: 16 }}>\r\n        <thead>\r\n          <tr style={{ background: '#f0f0f0' }}>\r\n            <th style={{ border: '1px solid #ccc', padding: 8 }}>Товар</th>\r\n            <th style={{ border: '1px solid #ccc', padding: 8 }}>Кількість</th>\r\n            <th style={{ border: '1px solid #ccc', padding: 8 }}>Од.</th>\r\n            <th style={{ border: '1px solid #ccc', padding: 8 }}>Ціна</th>\r\n            <th style={{ border: '1px solid #ccc', padding: 8 }}>Сума</th>\r\n            <th style={{ border: '1px solid #ccc', padding: 8 }}></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {items.map((item, idx) => (\r\n            <tr key={idx}>\r\n              <td style={{ border: '1px solid #ccc', padding: 8 }}>{item.name}</td>\r\n              <td style={{ border: '1px solid #ccc', padding: 8 }}>\r\n                <input type=\"number\" min={1} value={item.quantity} onChange={e => updateItem(idx, 'quantity', parseInt(e.target.value) || 1)} style={{ width: 60 }} />\r\n              </td>\r\n              <td style={{ border: '1px solid #ccc', padding: 8 }}>{item.unit}</td>\r\n              <td style={{ border: '1px solid #ccc', padding: 8 }}>\r\n                <input type=\"number\" min={0} value={item.price} onChange={e => updateItem(idx, 'price', parseFloat(e.target.value) || 0)} style={{ width: 80 }} />\r\n              </td>\r\n              <td style={{ border: '1px solid #ccc', padding: 8 }}>{(item.quantity * item.price).toFixed(2)}</td>\r\n              <td style={{ border: '1px solid #ccc', padding: 8 }}>\r\n                <button onClick={() => setItems(items => items.filter((_, i) => i !== idx))}>Видалити</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <div style={{ marginBottom: 16, textAlign: 'right', fontWeight: 'bold' }}>\r\n        Разом: {total.toFixed(2)} грн\r\n      </div>\r\n      <div>\r\n        <button onClick={handleSave} style={{ padding: '10px 20px', fontSize: 16 }}>Зберегти рахунок</button>\r\n        <button onClick={onBack} style={{ marginLeft: 16, padding: '10px 20px', fontSize: 16 }}>Повернутися</button>\r\n      </div>\r\n      {showClientModal && (\r\n        <div style={{ position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh', background: 'rgba(0,0,0,0.3)', zIndex: 100 }}>\r\n          <div style={{ background: '#fff', padding: 24, borderRadius: 8, maxWidth: 400, margin: '100px auto' }}>\r\n            <h3>Новий клієнт</h3>\r\n            <div style={{ marginBottom: 12 }}>\r\n              <input placeholder=\"Назва\" value={newClient.name} onChange={e => setNewClient({ ...newClient, name: e.target.value })} style={{ width: '100%', marginBottom: 8 }} />\r\n              <input placeholder=\"ІПН\" value={newClient.ipn} onChange={e => setNewClient({ ...newClient, ipn: e.target.value })} style={{ width: '100%' }} />\r\n            </div>\r\n            <button onClick={handleAddClient} style={{ marginRight: 8 }}>Додати</button>\r\n            <button onClick={() => setShowClientModal(false)}>Скасувати</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InvoiceForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}